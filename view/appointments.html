<div class="container mt-4">
    <h2 class="mb-4">{{if .IsSupervisor}}Solicitações de Supervisão{{else}}Meus Agendamentos{{end}}</h2>
    
    <div class="nav-tabs-wrapper mb-4">
        <ul class="nav nav-tabs">
            <li class="nav-item">
                <a class="nav-link active" href="#pendentes">Pendentes</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#confirmados">Confirmados</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#historico">Histórico</a>
            </li>
        </ul>
    </div>

    <div class="appointments-container">
        <!-- Debug info -->
        <div style="display: none;">
            {{printf "%+v" .Appointments}}
        </div>
        {{if not .Appointments}}
            <div class="alert alert-info">Nenhum agendamento encontrado.</div>
        {{else}}
            <div class="row">
                {{range .Appointments}}
                <div class="col-md-6 col-lg-4 mb-4">
                    <div class="card appointment-card">
                        <div class="card-body">
                            <h5 class="card-title">Supervisor: {{.SupervisorName}}</h5>
                            <div class="appointment-details">
                                <p><i class="fas fa-calendar"></i> {{formatDate .Date}}</p>
                                <p><i class="fas fa-clock"></i> {{formatTime .StartTime}} - {{formatTime .EndTime}}</p>
                                <p><i class="fas fa-user"></i> Supervisionando: {{.SuperviseeName}}</p>
                                <span class="status-badge status-{{.Status}}">
                                    {{if eq .Status "pending"}}Pendente{{end}}
                                    {{if eq .Status "confirmed"}}Confirmado{{end}}
                                    {{if eq .Status "rejected"}}Rejeitado{{end}}
                                </span>
                            </div>
                            {{if and (eq .Status "pending") $.IsSupervisor}}
                                <div class="appointment-actions mt-3">
                                    <button class="btn btn-success btn-sm accept-btn" data-id="{{.ID}}">
                                        <i class="fas fa-check"></i> Aceitar
                                    </button>
                                    <button class="btn btn-danger btn-sm reject-btn" data-id="{{.ID}}">
                                        <i class="fas fa-times"></i> Rejeitar
                                    </button>
                                </div>
                            {{end}}
                        </div>
                    </div>
                </div>
                {{end}}
            </div>
        {{end}}
    </div>
</div>

<!-- Scripts -->
<script src="/static/js/appointment.js"></script>
 