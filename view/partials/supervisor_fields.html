<div class="border p-3 mb-3 rounded shadow-sm">
    <h5 class="border-bottom pb-2 mb-4">Configurações de Supervisor</h5>
    
    <!-- Valor da Sessão -->
    <div class="mb-4">
        <label class="form-label fw-bold">Valor da Sessão</label>
        <div class="input-group">
            <span class="input-group-text">R$</span>
            <input type="number" class="form-control" name="session_price" 
                   step="0.01" min="0" value="{{printf "%.2f" .SessionPrice}}" required>
        </div>
    </div>

    <!-- Período de Disponibilidade -->
    <div class="mb-4">
        <h5 class="mb-3">Período de Disponibilidade</h5>
        <div class="row">
            <div class="col-md-6">
                <label class="form-label">Data Início</label>
                <input type="date" class="form-control calendar-success" name="availability_start" 
                       min="{{now}}" value="{{if .StartDate}}{{slice .StartDate 0 10}}{{end}}" required>
            </div>
            <div class="col-md-6">
                <label class="form-label">Data Fim</label>
                <input type="date" class="form-control calendar-danger" name="availability_end" 
                       min="{{now}}" value="{{if .EndDate}}{{slice .EndDate 0 10}}{{end}}" required>
            </div>
        </div>
    </div>

    <!-- Dias e Horários -->
    <div class="mb-4">
        <h5 class="mb-3">Dias e Horários Disponíveis</h5>
        <div class="weekday-hours">
            <!-- Domingo -->
            <div class="weekday-row mb-3">
                <div class="form-check mb-2">
                    <input class="form-check-input" type="checkbox" 
                           id="day_0" name="day_0"
                           onchange="toggleHours(this, '0')">
                    <label class="form-check-label" for="day_0">Domingo</label>
                </div>
                <div id="hours_0" class="ms-4" style="display: none">
                    <div class="row">
                        <div class="col-md-5">
                            <label class="form-label">Início</label>
                            <input type="time" class="form-control time-success" name="start_time_0">
                        </div>
                        <div class="col-md-5">
                            <label class="form-label">Fim</label>
                            <input type="time" class="form-control time-danger" name="end_time_0">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Segunda -->
            <div class="weekday-row mb-3">
                <div class="form-check mb-2">
                    <input class="form-check-input" type="checkbox" 
                           id="day_1" name="day_1"
                           onchange="toggleHours(this, '1')">
                    <label class="form-check-label" for="day_1">Segunda</label>
                </div>
                <div id="hours_1" class="ms-4" style="display: none">
                    <div class="row">
                        <div class="col-md-5">
                            <label class="form-label">Início</label>
                            <input type="time" class="form-control time-success" name="start_time_1">
                        </div>
                        <div class="col-md-5">
                            <label class="form-label">Fim</label>
                            <input type="time" class="form-control time-danger" name="end_time_1">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Terça -->
            <div class="weekday-row mb-3">
                <div class="form-check mb-2">
                    <input class="form-check-input" type="checkbox" 
                           id="day_2" name="day_2"
                           onchange="toggleHours(this, '2')">
                    <label class="form-check-label" for="day_2">Terça</label>
                </div>
                <div id="hours_2" class="ms-4" style="display: none">
                    <div class="row">
                        <div class="col-md-5">
                            <label class="form-label">Início</label>
                            <input type="time" class="form-control time-success" name="start_time_2">
                        </div>
                        <div class="col-md-5">
                            <label class="form-label">Fim</label>
                            <input type="time" class="form-control time-danger" name="end_time_2">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quarta -->
            <div class="weekday-row mb-3">
                <div class="form-check mb-2">
                    <input class="form-check-input" type="checkbox" 
                           id="day_3" name="day_3"
                           onchange="toggleHours(this, '3')">
                    <label class="form-check-label" for="day_3">Quarta</label>
                </div>
                <div id="hours_3" class="ms-4" style="display: none">
                    <div class="row">
                        <div class="col-md-5">
                            <label class="form-label">Início</label>
                            <input type="time" class="form-control time-success" name="start_time_3">
                        </div>
                        <div class="col-md-5">
                            <label class="form-label">Fim</label>
                            <input type="time" class="form-control time-danger" name="end_time_3">
                        </div>
                    </div>
                </div>
            </div>


            <!-- ... Repetir para os outros dias ... --> 

            <!-- Quinta -->
            <div class="weekday-row mb-3">
                <div class="form-check mb-2">
                    <input class="form-check-input" type="checkbox" 
                           id="day_4" name="day_4"
                           onchange="toggleHours(this, '4')">
                    <label class="form-check-label" for="day_4">Quinta</label>
                </div>
                <div id="hours_4" class="ms-4" style="display: none">
                    <div class="row">
                        <div class="col-md-5">
                            <label class="form-label">Início</label>
                            <input type="time" class="form-control time-success" name="start_time_4">
                        </div>
                        <div class="col-md-5">
                            <label class="form-label">Fim</label>
                            <input type="time" class="form-control time-danger" name="end_time_4">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sexta -->
            <div class="weekday-row mb-3">
                <div class="form-check mb-2">
                    <input class="form-check-input" type="checkbox" 
                           id="day_5" name="day_5"
                           onchange="toggleHours(this, '5')">
                    <label class="form-check-label" for="day_5">Sexta</label>
                </div>
                <div id="hours_5" class="ms-4" style="display: none">
                    <div class="row">
                        <div class="col-md-5">
                            <label class="form-label">Início</label>
                            <input type="time" class="form-control time-success" name="start_time_5">
                        </div>
                        <div class="col-md-5">
                            <label class="form-label">Fim</label>
                            <input type="time" class="form-control time-danger" name="end_time_5">
                        </div>
                    </div>
                </div>
            </div> 

            <!-- Sábado -->
            <div class="weekday-row mb-3">
                <div class="form-check mb-2">
                    <input class="form-check-input" type="checkbox" 
                           id="day_6" name="day_6"
                           onchange="toggleHours(this, '6')">
                    <label class="form-check-label" for="day_6">Sábado</label>
                </div>
                <div id="hours_6" class="ms-4" style="display: none">
                    <div class="row">
                        <div class="col-md-5">
                            <label class="form-label">Início</label>
                            <input type="time" class="form-control time-success" name="start_time_6">
                        </div>
                        <div class="col-md-5">
                            <label class="form-label">Fim</label>
                            <input type="time" class="form-control time-danger" name="end_time_6">
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- Mensagem informativa -->
    <div class="mt-4 mb-4 p-3 bg-light rounded">
        <div class="d-flex align-items-center">
            <i class="fas fa-info-circle text-primary me-2"></i>
            <small class="text-muted">
                Estas informações serão visíveis para potenciais supervisionados.
                Mantenha seus horários atualizados.
            </small>
        </div>
    </div>
</div>

<script>
function toggleHours(checkbox, dayIndex) {
    const hoursDiv = document.getElementById('hours_' + dayIndex);
    hoursDiv.style.display = checkbox.checked ? 'block' : 'none';
}

function validateForm(form) {
    // Validar datas
    const start = form.availability_start.value;
    const end = form.availability_end.value;
    if (start > end) {
        alert('A data inicial deve ser anterior à data final');
        return false;
    }

    // Validar horários dos dias selecionados
    for (let i = 0; i <= 6; i++) {
        const dayCheckbox = form['day_' + i];
        if (dayCheckbox && dayCheckbox.checked) {
            const startTime = form['start_time_' + i].value;
            const endTime = form['end_time_' + i].value;
            
            if (!startTime || !endTime) {
                alert('Preencha os horários para os dias selecionados');
                return false;
            }
            
            if (startTime >= endTime) {
                alert('O horário de início deve ser anterior ao horário de fim');
                return false;
            }
        }
    }

    return true;
}
</script> 